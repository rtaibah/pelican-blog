<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>'Compositing With Metacity -- An Early Look'</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Rami's Blog </a></h1>
                <nav><ul>
                    <li><a href="/">Home</a></li>
                    <li class="active"><a href="/category/blog.html">blog</a></li>
                    <li><a href="/category/books.html">books</a></li>
                    <li><a href="/category/photostream.html">photostream</a></li>
                    <li><a href="/category/portfolio.html">portfolio</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/compositing-with-metacity-an-early-look.html" rel="bookmark"
           title="Permalink to 'Compositing With Metacity -- An Early Look'">'Compositing With Metacity -- An Early Look'</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2008-10-21T00:00:00+03:00">
                Published: Tue 21 October 2008
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/rami_taibah.html">rami_taibah</a>
        </address>
<p>In <a href="/category/blog.html">blog</a>.</p>

</footer><!-- /.post-info -->      <ul>
<li>Eye Candy</li>
<li>Howto
tags: </li>
</ul>
<hr />
<p>When the [compositing capabilities][1] of Spiftacity [merged into the Metacity trunk][2], it caused a fair bit of stir among GNOME users. Included in version 2.21.5 of GNOME, though hidden from casual users, the compositing showed a lot of promise but remained just something to play around with.
The recently released [GNOME 2.24 ][3]includes the latest builds of [Metacity][4], so, unless you've been compiling from tarballs yourself to stay at the bleeding edge, GNOME 2.24 will be the first taste mainstream users will be getting of the latest Metacity developments. While Metacity itself has seen its fair share of tweaking, the compositor, written by [Iain Holmes][5] and [Thomas Thurman][6], has received a great deal of attention, so perhaps it's time to take a second look at it.
![Screenshot][7]
Metacity's compositor can be enabled in GNOME by launching gconf-editor (alt-F2, type 'gconf-editor' and hit enter), then navigating to apps/metacity/general and setting the key 'compositing_manager' to true.
### Changes
The biggest change I've noted since the compositor's previous incarnation is that the whole thing just feels a lot snappier. On my laptop's Radeon Xpress 200M chip, which is by no means a high-performance card, windows move around just as smoothly as Metacity without compositing, and scrolling in Firefox is smooth and responsive. It performed equally well with both the open source Radeon driver, and the proprietary fgrlx driver.
Smaller developments include tweaking of windows' drop shadows; they are now a bit wider than before, and change depending on whether the window is in focus or not. In previous versions, windows would turn to black squares when they were in the process of minimizing, but they now have reverted back to the classic 'black wireframe' of vanilla Metacity; which is uglier in my opinion, but since it's purely a cosmetic difference as opposed to a functional one, it doesn't really bother me.
### Aesthetics
Keeping in line with Metacity's ['boring' ][8]description, the compositor is extremely light on effects; the only things of note are the drop shadows under windows and menus, and the inclusion of window thumbnails when alt-tabbing. The thumbnails aren't updated in real time a la [Compiz Fusion][9], but they are an improvement from simple icons.
![Screenshot][10]
One thing to note, is that Metacity's compositing is based on [Xrender][11] instead of [OpenGL][12], which is lighter on resources and better from a compatibility perspective, but you shouldn't ever expect to be getting cover-switching or getting 'the cube' which [Compiz][13] and [Beryl][14] became famous for. However, it is lightweight and it may just be what you need if you're after running programs that rely on compositing, such as [Avant Window Navigator][15].
My only real complaint is that, much like Metacity itself, the compositor is extremely sparse on configuration options. In fact, outside of forcing some certain changes with Xorg.conf, the compositor only appears to have two options; on and off. The defaults are fine, but there is zero room for tweaking unless you're compiling it yourself. In addition to that, enabling it via gconf-editor is not exactly the most user-friendly way of going about things, though perhaps this is a complaint that is better levelled at the GNOME developers.
### The Bottom Line
In its current incarnation, the compositing in Metacity is similar in feel and function to the compositing used in Xfce; it's not particularly attractive looking, but it is extremely stable and performs well on lower-end systems. If you're after features that only compositing can provide but aren't after Compiz' ultra-pretty but ultra-heavy management, you may have tried Metacity's compositing already and been disappointed. However, the new version has dramatically stepped up on stability and performance, so once you've got your hands on GNOME 2.24 you may want to consider giving it another chance.
[1]: http://en.wikipedia.org/wiki/Compositing_window_manager
[2]: http://blog/s.gnome.org/metacity/2007/12/19/compositor-on-trunk/
[3]: http://library.gnome.org/misc/release-notes/2.24/
[4]: http://en.wikipedia.org/wiki/Metacity
[5]: http://blog/s.gnome.org/iain/
[6]: http://marnanel.org/writing/about-me
[7]: http://www.sandandmercury.net/junk/Screenshot-Configuration%20Editor%20-%20general.jpg
[8]: http://en.wikipedia.org/wiki/Metacity#Philosophy
[9]: http://www.compiz-fusion.org/
[10]: http://www.sandandmercury.net/junk/Screenshot.jpg
[11]: http://en.wikipedia.org/wiki/Xrender
[12]: http://en.wikipedia.org/wiki/Opengl
[13]: http://en.wikipedia.org/wiki/Compiz
[14]: http://en.wikipedia.org/wiki/Beryl_(window_manager)
[15]: http://en.wikipedia.org/wiki/Avant_window_navigator</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://twitter.com/rtaibah">Twitter</a></li>
                            <li><a href="http://keybase.io/rami">Keybase</a></li>
                            <li><a href="http://github.com/rtaibah">Github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>