<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>'Howto: Fresh Ubuntu Install Without Losing Your Current Settings'</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Rami's Blog </a></h1>
                <nav><ul>
                    <li><a href="/">Home</a></li>
                    <li class="active"><a href="/category/blog.html">blog</a></li>
                    <li><a href="/category/books.html">books</a></li>
                    <li><a href="/category/photostream.html">photostream</a></li>
                    <li><a href="/category/portfolio.html">portfolio</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/howto-fresh-ubuntu-install-without-losing-your-current-settings.html" rel="bookmark"
           title="Permalink to 'Howto: Fresh Ubuntu Install Without Losing Your Current Settings'">'Howto: Fresh Ubuntu Install Without Losing Your Current Settings'</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2008-11-12T00:00:00+03:00">
                Published: Wed 12 November 2008
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/rami_taibah.html">rami_taibah</a>
        </address>
<p>In <a href="/category/blog.html">blog</a>.</p>

</footer><!-- /.post-info -->      <ul>
<li>Howto
tags: </li>
</ul>
<hr />
<p><img alt="" src="http://192.168.1.33/blog2/wp-content/uploads/2008/11/ubuntu-distros.jpg" /></p>
<p><strong>Warning</strong>: There are  two commands mentioned in this how to, both that require double dashes -- -- but for some reason WordPress is not rendering that correctly. After each <em>dpkg</em> hit <em>space</em> and hit the dash button twice. Sorry for the the inconvenience.
A clean install or an upgrade? That's a question that keeps <a href="http://www.linux.com/feature/134517" title="tossed around">tossed around</a> every new **Ubuntu** release. Common wisdom would suggest that a clean install would probably be better, however the inconvenience of losing current installed apps and configuration makes most of us shy away from this path. But what if I told you that you could have the good of both worlds? A fresh install and keeping your apps and configuration intact?
### Configuration
Keeping your configuration intact is pretty straight forward and obvious. Just backup your /home folder onto an external drive or whatever. Make sure you also <strong>grab the hidden files</strong>, don't <a href="http://twitter.com/bianconeri4ever/status/999382370" title="do my mistake">do my mistake</a>!
### Applications
Now for the current applications. Basically we just need to make a full list of the installed apps.
`sudo dpkg --get-selections > /home/user/package.selections`
Of course don't forget to backup *package.selections *on the external hard-drive. Also you should backup your */etc/apt/sources.list* file since you probably have some extra sources listed over there. Now you can go about your business and do a fresh install.
### Restore
Once your done with the fresh install, copy the file* package.selections* into your home. Then copy your *sources.list* file into /etc/apt/ and update it to match your current distro (e.g Gutsy --> Intrepid) you can use CTRL + H in gedit for that. Then do a "sudo apt-get update" ,and finally invoke:
`sudo dpkg --set-selections /home/package.selections &amp;&amp; apt-get dselect-upgrade`
apt-get will now start downloading all your apps, this will take some time depending on the number of apps you have installed.
Once that's done, just copy your backup-ed /home over the current /home (again don't forget hidden folders).
Log out and log back in to your shiny new fresh install!
**Edit:** As the commentators below also mentioned, it would also be wise to have your /home in a seperate partition (thanks Boo Radley), back  up /etc (thanks Bartek), and use the tar command to back up home (it will preserve your structure and permissions)</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://twitter.com/rtaibah">Twitter</a></li>
                            <li><a href="http://keybase.io/rami">Keybase</a></li>
                            <li><a href="http://github.com/rtaibah">Github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>